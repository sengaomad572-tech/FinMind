<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALFA AQLI | Professional Terminal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap');
        body { background-color: #02040a; color: #f1f5f9; font-family: 'Plus Jakarta Sans', sans-serif; margin: 0; }
        .glass-card { background: #0d1117; border: 1px solid #30363d; border-radius: 16px; overflow: hidden; }
        #tv_widget { height: 60vh !important; width: 100%; }
        .nav-btn.active { color: #58a6ff; border-bottom: 2px solid #58a6ff; }
        .animate-fade { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="pb-20 md:pb-0">

    <nav class="border-b border-[#30363d] bg-[#0d1117]/90 p-4 sticky top-0 z-50 flex justify-between items-center">
        <div class="flex items-center gap-2">
            <div class="bg-blue-600 p-1 rounded-lg">
                <i data-lucide="activity" class="text-white w-5 h-5"></i>
            </div>
            <span class="font-black text-lg tracking-tighter uppercase">ALFA<span class="text-blue-500 text-sm">AQLI</span></span>
        </div>
        <button class="bg-[#238636] text-white px-4 py-1.5 rounded-md font-bold text-[10px] uppercase">Kirish</button>
    </nav>

    <main class="max-w-7xl mx-auto p-4 space-y-4">
        
        <div class="glass-card p-2 flex items-center shadow-xl">
            <input type="text" id="marketSearch" placeholder="KOMPANIYA RAMZINI YOZING (MASALAN: TSLA, AAPL, NVDA)" 
                   class="bg-transparent flex-1 p-3 outline-none font-bold uppercase text-blue-400 text-sm">
            <button onclick="updateTerminal()" class="bg-blue-600 hover:bg-blue-500 text-white px-6 py-3 rounded-xl font-black uppercase text-[10px] transition-all">
                TAHLIL QILISH
            </button>
        </div>

        <div id="company-card" class="glass-card p-6 border-l-4 border-blue-500 animate-fade">
            <div class="flex justify-between items-start">
                <div>
                    <h2 id="comp-name" class="text-3xl font-black">NVIDIA Corporation</h2>
                    <p id="comp-sector" class="text-blue-500 text-[10px] font-bold uppercase tracking-widest mt-1">Semiconductors / AI</p>
                </div>
                <div class="bg-blue-500/10 px-3 py-1 rounded text-[10px] font-bold text-blue-500 border border-blue-500/20">AI TAHLIL</div>
            </div>
            <p id="comp-desc" class="mt-4 text-slate-400 text-xs leading-relaxed max-w-2xl">
                Sun'iy intellekt va grafik chiplar bozorida yetakchi bo'lgan texnologiya giganti.
            </p>
            
            <div class="mt-6 grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="bg-black/20 p-3 rounded-xl border border-white/5">
                    <p class="text-[9px] text-slate-500 font-bold uppercase">Bozor qiymati</p>
                    <p id="comp-cap" class="text-sm font-bold text-white">$2.8T</p>
                </div>
                <div class="bg-black/20 p-3 rounded-xl border border-white/5">
                    <p class="text-[9px] text-slate-500 font-bold uppercase">P/E Nisbati</p>
                    <p id="comp-pe" class="text-sm font-bold text-white">72.4</p>
                </div>
                <div class="bg-black/20 p-3 rounded-xl border border-white/5">
                    <p class="text-[9px] text-slate-500 font-bold uppercase">AI Bahosi</p>
                    <p class="text-sm font-bold text-green-500">93/100</p>
                </div>
                <div class="bg-black/20 p-3 rounded-xl border border-white/5">
                    <p class="text-[9px] text-slate-500 font-bold uppercase">Tavsiya</p>
                    <p class="text-sm font-bold text-blue-400">KUCHLI XARID</p>
                </div>
            </div>
        </div>

        <div class="glass-card shadow-2xl">
            <div id="tv_widget"></div>
        </div>

    </main>

    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script>
        lucide.createIcons();

        const marketData = {
            "TSLA": { name: "Tesla, Inc.", sector: "Automotive / Energy", cap: "$780.5B", pe: "45.2", desc: "Elektromobillar va qayta tiklanuvchi energiya bo'yicha dunyoda yetakchi kompaniya." },
            "AAPL": { name: "Apple Inc.", sector: "Consumer Electronics", cap: "$3.2T", pe: "30.8", desc: "iPhone, Mac va innovatsion texnologiyalar yaratuvchisi, dunyoning eng qimmat brendi." },
            "NVDA": { name: "NVIDIA Corp.", sector: "Semiconductors / AI", cap: "$2.8T", pe: "72.4", desc: "Sun'iy intellekt inqilobining asosi, yuqori unumdorlikdagi GPU chiplari ishlab chiqaruvchisi." },
            "BTCUSD": { name: "Bitcoin", sector: "Cryptocurrency", cap: "$1.8T", pe: "N/A", desc: "Raqamli oltin va markazlashmagan moliya tizimining asosi." }
        };

        function loadChart(symbol) {
            new TradingView.widget({
                "width": "100%", "height": "100%", "symbol": symbol,
                "interval": "D", "timezone": "Etc/UTC", "theme": "dark",
                "style": "1", "locale": "en", "container_id": "tv_widget"
            });
        }

        function updateTerminal() {
            const symbol = document.getElementById('marketSearch').value.toUpperCase().trim() || 'NVDA';
            
            // Grafikni yangilash
            loadChart(symbol);

            // Ma'lumotlarni yangilash
            const data = marketData[symbol] || { name: symbol, sector: "Global Asset", cap: "---", pe: "---", desc: "Ushbu aktiv tahlil qilinmoqda..." };
            
            document.getElementById('comp-name').innerText = data.name;
            document.getElementById('comp-sector').innerText = data.sector;
            document.getElementById('comp-desc').innerText = data.desc;
            document.getElementById('comp-cap').innerText = data.cap;
            document.getElementById('comp-pe').innerText = data.pe;

            // Kartaga animatsiya berish
            const card = document.getElementById('company-card');
            card.classList.remove('animate-fade');
            void card.offsetWidth; // Reflow for restart animation
            card.classList.add('animate-fade');
        }

        // Default yuklash
        window.onload = () => loadChart('NVDA');
    </script>
</body>
</html>
